#!/usr/bin/env node
import e from"node:cluster";import{cpus as i}from"node:os";import*as o from"prettier";const n=async()=>{const r=new(await import("commander")).Command().name("Prettier").option("--check, --list-different","Whether to list unformatted files, instead of writing them out").option("--write","Whether to write files to the output").option("--concurrency [value]","Maximum concurrency",String(i().length)).option("-q, --quiet","If set, pprettier will not output progress").option("--ignore-path [value]","Path to an ignore file",".prettierignore").version(`@playform/prettier version 0.0.1 / prettier version ${o.version}`).parse(process.argv),t=r.opts();(await import("./master.js")).spawnWorkers({check:t.listDifferent,concurrency:t.concurrency,files:r.args,quiet:t.quiet,write:t.write,ignorePath:t.ignorePath})};e.isPrimary?await n():e.isWorker&&(await import("./worker.js")).startWorker();
